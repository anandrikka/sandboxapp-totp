<div class="card max-w-sm mx-auto mt-16">
  <div class="card__header">
    <div class="card__header__title">Login</div>
  </div>
  <div class="card__body">
    <div class="flex flex-col justify-center">
      @if (state >= LoginStage.OTP_REQUESTED) {
        <div class="input-group">
          <label class="input-group__label">Email</label>
          <input type="email" class="input-group__input" [value]="email" disabled>
        </div>
        <div class="input-group">
          <label class="input-group__label">OTP</label>
          <input type="text" class="input-group__input" [class]="state === LoginState.INVALID_OTP && 'danger'" [(ngModel)]="otp">
          @if (state === LoginState.INVALID_OTP) {
            <span class="input-group__error">Invalid OTP</span>
          }
        </div>
        <div class="input-group input-group--inline">
          <input type="checkbox" [(ngModel)]="rememberMe"> Remember me
        </div>
        <button (click)="submitLogin()" class="btn btn--primary">Verify Login</button>
      } @else {
        <div class="input-group">
          <label class="input-group__label">Email</label>
          <input type="text" class="input-group__input" [class]="state === LoginState.EMAIL_INVALID && 'danger'" placeholder="john.doe@email.com" [(ngModel)]="email">
          @if (state === LoginState.EMAIL_INVALID) {
            <span class="input-group__error">Invalid email</span>
          }
        </div>
        <button (click)="submitOTP()" class="btn btn--primary">Send OTP</button>
        <div class="mt-4 text-center text-sm">
          Don&apos;t have an account?{{" "}}
          <a (click)="gotoSignup()" class="underline underline-offset-4">
            Sign up
          </a>
        </div>
      }
    </div>
  </div>
</div>
